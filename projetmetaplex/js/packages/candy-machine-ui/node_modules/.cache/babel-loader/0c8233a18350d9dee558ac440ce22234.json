{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GatewayTokenState = exports.Revoked = exports.Frozen = exports.Active = exports.GatewayTokenData = void 0;\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst solanaBorsh_1 = require(\"./solanaBorsh\");\n\nconst AssignablePublicKey_1 = require(\"./AssignablePublicKey\");\n/**\n * The on-chain structure of a gateway token.\n * Matches: solana/integration-lib/src/state.rs\n *\n * The pattern for these objects is to have their properties dynamically\n * assigned by borsh.decode, as opposed to via a constructor.\n *\n * The imperative assignment operator (!) is used to avoid Typescript\n * complaining about the above.\n */\n\n\nclass GatewayTokenData extends solanaBorsh_1.Assignable {\n  static fromAccount(accountData) {\n    return GatewayTokenData.decode(accountData);\n  }\n\n  forAuthority(authority) {\n    return new GatewayTokenData(Object.assign(Object.assign({}, this), {\n      authority: AssignablePublicKey_1.AssignablePublicKey.fromPublicKey(authority)\n    }));\n  }\n\n  static empty(owner) {\n    return new GatewayTokenData({\n      owner: AssignablePublicKey_1.AssignablePublicKey.fromPublicKey(owner || web3_js_1.Keypair.generate().publicKey)\n    });\n  }\n\n}\n\nexports.GatewayTokenData = GatewayTokenData;\n\nclass Active extends solanaBorsh_1.Assignable {}\n\nexports.Active = Active;\n\nclass Frozen extends solanaBorsh_1.Assignable {}\n\nexports.Frozen = Frozen;\n\nclass Revoked extends solanaBorsh_1.Assignable {}\n\nexports.Revoked = Revoked;\n\nclass GatewayTokenState extends solanaBorsh_1.Enum {}\n\nexports.GatewayTokenState = GatewayTokenState;\nsolanaBorsh_1.SCHEMA.set(GatewayTokenData, {\n  kind: \"struct\",\n  fields: [[\"features\", [1]], [\"parentGatewayToken\", {\n    kind: \"option\",\n    type: AssignablePublicKey_1.AssignablePublicKey\n  }], [\"owner\", AssignablePublicKey_1.AssignablePublicKey], [\"ownerIdentity\", {\n    kind: \"option\",\n    type: AssignablePublicKey_1.AssignablePublicKey\n  }], [\"gatekeeperNetwork\", AssignablePublicKey_1.AssignablePublicKey], [\"issuingGatekeeper\", AssignablePublicKey_1.AssignablePublicKey], [\"state\", GatewayTokenState], [\"expiry\", {\n    kind: \"option\",\n    type: \"u64\"\n  }]]\n});\nsolanaBorsh_1.SCHEMA.set(GatewayTokenState, {\n  kind: \"enum\",\n  field: \"enum\",\n  values: [[\"active\", Active], [\"frozen\", Frozen], [\"revoked\", Revoked]]\n});\nsolanaBorsh_1.SCHEMA.set(Active, {\n  kind: \"struct\",\n  fields: []\n});\nsolanaBorsh_1.SCHEMA.set(Frozen, {\n  kind: \"struct\",\n  fields: []\n});\nsolanaBorsh_1.SCHEMA.set(Revoked, {\n  kind: \"struct\",\n  fields: []\n});","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AACA;AAGA;;;;;;;;;;;;AAUA,MAAaA,gBAAb,SAAsCC,wBAAtC,CAAgD;EAO5B,OAAXC,WAAW,CAACC,WAAD,EAAoB;IACpC,OAAOH,gBAAgB,CAACI,MAAjB,CAA0CD,WAA1C,CAAP;EACD;;EAEDE,YAAY,CAACC,SAAD,EAAqB;IAC/B,OAAO,IAAIN,gBAAJ,CAAoBO,gCACtB,IADsB,GAClB;MACPD,SAAS,EAAEE,0CAAoBC,aAApB,CAAkCH,SAAlC;IADJ,CADkB,CAApB,CAAP;EAID;;EAEW,OAALI,KAAK,CAACC,KAAD,EAAkB;IAC5B,OAAO,IAAIX,gBAAJ,CAAqB;MAC1BW,KAAK,EAAEH,0CAAoBC,aAApB,CACLE,KAAK,IAAIC,kBAAQC,QAAR,GAAmBC,SADvB;IADmB,CAArB,CAAP;EAKD;;AAxB6C;;AAAhDC;;AA2BA,MAAaC,MAAb,SAA4Bf,wBAA5B,CAAsC;;AAAtCc;;AACA,MAAaE,MAAb,SAA4BhB,wBAA5B,CAAsC;;AAAtCc;;AACA,MAAaG,OAAb,SAA6BjB,wBAA7B,CAAuC;;AAAvCc;;AACA,MAAaI,iBAAb,SAAuClB,kBAAvC,CAA2C;;AAA3Cc;AAMAd,qBAAOmB,GAAP,CAAWpB,gBAAX,EAA6B;EAC3BqB,IAAI,EAAE,QADqB;EAE3BC,MAAM,EAAE,CACN,CAAC,UAAD,EAAa,CAAC,CAAD,CAAb,CADM,EAEN,CAAC,oBAAD,EAAuB;IAAED,IAAI,EAAE,QAAR;IAAkBE,IAAI,EAAEf;EAAxB,CAAvB,CAFM,EAGN,CAAC,OAAD,EAAUA,yCAAV,CAHM,EAIN,CAAC,eAAD,EAAkB;IAAEa,IAAI,EAAE,QAAR;IAAkBE,IAAI,EAAEf;EAAxB,CAAlB,CAJM,EAKN,CAAC,mBAAD,EAAsBA,yCAAtB,CALM,EAMN,CAAC,mBAAD,EAAsBA,yCAAtB,CANM,EAON,CAAC,OAAD,EAAUW,iBAAV,CAPM,EAQN,CAAC,QAAD,EAAW;IAAEE,IAAI,EAAE,QAAR;IAAkBE,IAAI,EAAE;EAAxB,CAAX,CARM;AAFmB,CAA7B;AAaAtB,qBAAOmB,GAAP,CAAWD,iBAAX,EAA8B;EAC5BE,IAAI,EAAE,MADsB;EAE5BG,KAAK,EAAE,MAFqB;EAG5BC,MAAM,EAAE,CACN,CAAC,QAAD,EAAWT,MAAX,CADM,EAEN,CAAC,QAAD,EAAWC,MAAX,CAFM,EAGN,CAAC,SAAD,EAAYC,OAAZ,CAHM;AAHoB,CAA9B;AASAjB,qBAAOmB,GAAP,CAAWJ,MAAX,EAAmB;EAAEK,IAAI,EAAE,QAAR;EAAkBC,MAAM,EAAE;AAA1B,CAAnB;AACArB,qBAAOmB,GAAP,CAAWH,MAAX,EAAmB;EAAEI,IAAI,EAAE,QAAR;EAAkBC,MAAM,EAAE;AAA1B,CAAnB;AACArB,qBAAOmB,GAAP,CAAWF,OAAX,EAAoB;EAAEG,IAAI,EAAE,QAAR;EAAkBC,MAAM,EAAE;AAA1B,CAApB","names":["GatewayTokenData","solanaBorsh_1","fromAccount","accountData","decode","forAuthority","authority","Object","AssignablePublicKey_1","fromPublicKey","empty","owner","web3_js_1","generate","publicKey","exports","Active","Frozen","Revoked","GatewayTokenState","set","kind","fields","type","field","values"],"sourceRoot":"","sources":["../../src/lib/GatewayTokenData.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}